<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">AWS Deployment</h1><p class="page-description">AWS Deployment Steps</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-10-02T00:00:00-05:00" itemprop="datePublished">
        Oct 2, 2022
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/fastpages/categories/#Deployment">Deployment</a>
        &nbsp;
      
        <a class="category-tags-link" href="/fastpages/categories/#week6">week6</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h2 id="this-is-my-blogpost-that-shows-details-of-aws-deployment-of-personal-flash-website">This is my blogpost that shows details of AWS Deployment of Personal Flash Website.</h2>

<h4 id="here-are-the-steps-from-git-clone-to-build-and-run-flask-locally-on-aws-after-connecting-to-aws-ec2">Here are the steps from git clone to build and run Flask locally on AWS after connecting to AWS EC2</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /home/ubuntu/navan-flask
git clone https://github.com/NavanYatavelli/BeeFlask.git
</code></pre></div></div>
<h4 id="edit-docker-composeyml-file">Edit docker-compose.yml file</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>version: '3'
services:
        web:
                image: flask_port_v1
                build: .
                ports:
                        - "8087:8080"
</code></pre></div></div>

<h4 id="run-and-check-if-docker-compose-process-is-running">Run and check if docker-compose process is running</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Run docker-compose
sudo docker-compose up -d

//Check Docker process running (optional)
sudo docker-compose ps
</code></pre></div></div>

<h4 id="acesss-locally">Acesss locally</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl localhost:8087
</code></pre></div></div>
<p><img src="/fastpages/images/deployment-localhost.jpg" alt="Acesss locally jpg" /></p>

<h4 id="configure-nginx-to-redirect-requests-nginx-listens-for-the-web-application-request-and-directs-it-to-the-web-application-service-internet-requests-for-8081-port-maps-to-8087-port-on-localhost">Configure nginx to redirect requests. Nginx listens for the Web Application request and directs it to the Web Application service. Internet requests for 8081 port maps to 8087 port on localhost</h4>
<h4 id="18216138528081--localhose8087">18.216.138.52:8081 –&gt; localhose:8087</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// contents of file -- /etc/nginx/sites-available/navan-flask

server {
        listen 8081;
        listen [::]:8081;
        server_name 18.216.138.52;

        location / {
                proxy_pass http://localhost:8087;
                add_header "Access-Control-Allow-Origin" *;
        }
}
</code></pre></div></div>

<h4 id="accesss-flask-website---browser">Accesss Flask Website - Browser</h4>
<p><a href="http://18.216.138.52:8081/">Personal Flask Website</a>
<img src="/fastpages/images/personal-flask-website.jpg" alt="personal-flask-website jpg" /></p>

<h4 id="make-change-in-githubcombeeflask-to-this-file-beeflasktemplatesindexhtml">Make change in github.com/../BeeFlask to this file /BeeFlask/templates/index.html</h4>
<p><img src="/fastpages/images/deployment-github-updated.jpg" alt="personal-flask-website jpg" /></p>

<h4 id="get-latest-from-github-to-aws-rebuild-and-relaunch-docker-process">Get latest from Github to AWS, rebuild and relaunch docker process</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /home/ubuntu/navan-flask
git pull

//Check Docker process running (optional)
sudo docker-compose ps

// Kill the docker process
sudo docker-compose kill

//Rebuid Docker
sudo docker-compose build --no-cache

//Restart Docker process
sudo docker-compose up -d
</code></pre></div></div>

<h4 id="acesss-locally-1">Acesss locally</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl localhost:8087
</code></pre></div></div>
<p><img src="/fastpages/images/deployment-localhost-html.jpg" alt="Acesss locally jpg" /></p>

<h4 id="accesss-flask-website---browser-shows-updated">Accesss Flask Website - Browser, shows updated</h4>
<p><img src="/fastpages/images/deployment-browser-updated.jpg" alt="personal-flask-website jpg" /></p>


  </div><a class="u-url" href="/fastpages/deployment/week6/2022/10/02/AWS-Deployment.html" hidden></a>
</article>
